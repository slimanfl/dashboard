import{bv as ee,az as F,aa as te,af as se,ab as oe,bj as ae,aP as re,a$ as ne,ag as ie,bw as le,ah as ce,ac as ue,ai as de,bh as pe,ad as me,aA as fe,a4 as D,b2 as he,bo as ye,bp as be,aR as ge,b4 as ve,ao as we,bx as ke,ak as Ve,am as _e,Z as Te,al as Se,b as a,bt as Ce,_ as Y,aW as M,a6 as Z,p as qe,r as V,i as Pe,j as Ee,a0 as Re,o as P,c as O,d as g,m as l,f as j,e as c,s as T,t as _,x as N,E as x,F as z,h as $e,a5 as Le,a1 as Ae,a as Ie,aq as Be}from"./index-CK2h-ivp.js";import{a as De,b as je,_ as Fe}from"./VForm-Dj0NKnBc.js";import{_ as Ue}from"./ThemeSwitcher-1sZ_qhv9.js";import{u as H,a as Me,b as Oe}from"./misc-mask-light-CnPn-rSl.js";import{a as Ne,w as xe}from"./index-B3bPRkoL.js";import{c as ze}from"./VAvatar-CfCP4e8R.js";import{V as He}from"./VMenu-DeO7Vfes.js";import{V as Je,a as Ge,b as We}from"./VList-DhGJzJKm.js";import{a as $,V as J}from"./VRow-CstU3835.js";import{V as Ke}from"./VImg-DRBYT4lF.js";import{V as Qe}from"./VCard-Bv8-GYVs.js";import{V as G}from"./VCardText-DXhN7emK.js";import"./VTextField-PPXaSlU_.js";import"./VOverlay-D42fwn1A.js";import"./VTooltip-C4B1nGAo.js";import"./VDivider-BysEnsAl.js";/* empty css              */const Ye=e=>e==null,Ze=e=>Array.isArray(e)&&e.length===0,W=e=>Ye(e)||Ze(e)||e===!1?"This field is required":!!String(e).trim().length||"This field is required",Xe="/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",et="/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",tt="/assets/auth-v2-login-illustration-dark-ClExSVqL.png",st="/assets/auth-v2-login-illustration-light-C4sKfRS1.png";class ot extends Error{constructor(s,u){super(s,u),this.name="FetchError",u!=null&&u.cause&&!this.cause&&(this.cause=u.cause)}}function at(e){var b,p,t,w,h;const s=((b=e.error)==null?void 0:b.message)||((p=e.error)==null?void 0:p.toString())||"",u=((t=e.request)==null?void 0:t.method)||((w=e.options)==null?void 0:w.method)||"GET",o=((h=e.request)==null?void 0:h.url)||String(e.request)||"/",m=`[${u}] ${JSON.stringify(o)}`,d=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",v=`${m}: ${d}${s?` ${s}`:""}`,r=new ot(v,e.error?{cause:e.error}:void 0);for(const i of["request","options","response"])Object.defineProperty(r,i,{get(){return e[i]}});for(const[i,k]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(r,i,{get(){return e.response&&e.response[k]}});return r}const rt=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function K(e="GET"){return rt.has(e.toUpperCase())}function nt(e){if(e===void 0)return!1;const s=typeof e;return s==="string"||s==="number"||s==="boolean"||s===null?!0:s!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const it=new Set(["image/svg","application/xml","application/xhtml","application/html"]),lt=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ct(e=""){if(!e)return"json";const s=e.split(";").shift()||"";return lt.test(s)?"json":it.has(s)||s.startsWith("text/")?"text":"blob"}function ut(e,s,u=globalThis.Headers){const o={...s,...e};if(s!=null&&s.params&&(e!=null&&e.params)&&(o.params={...s==null?void 0:s.params,...e==null?void 0:e.params}),s!=null&&s.query&&(e!=null&&e.query)&&(o.query={...s==null?void 0:s.query,...e==null?void 0:e.query}),s!=null&&s.headers&&(e!=null&&e.headers)){o.headers=new u((s==null?void 0:s.headers)||{});for(const[m,d]of new u((e==null?void 0:e.headers)||{}))o.headers.set(m,d)}return o}const dt=new Set([408,409,425,429,500,502,503,504]),pt=new Set([101,204,205,304]);function X(e={}){const{fetch:s=globalThis.fetch,Headers:u=globalThis.Headers,AbortController:o=globalThis.AbortController}=e;async function m(r){const b=r.error&&r.error.name==="AbortError"&&!r.options.timeout||!1;if(r.options.retry!==!1&&!b){let t;typeof r.options.retry=="number"?t=r.options.retry:t=K(r.options.method)?0:1;const w=r.response&&r.response.status||500;if(t>0&&(Array.isArray(r.options.retryStatusCodes)?r.options.retryStatusCodes.includes(w):dt.has(w))){const h=r.options.retryDelay||0;return h>0&&await new Promise(i=>setTimeout(i,h)),d(r.request,{...r.options,retry:t-1,timeout:r.options.timeout})}}const p=at(r);throw Error.captureStackTrace&&Error.captureStackTrace(p,d),p}const d=async function(b,p={}){var h;const t={request:b,options:ut(p,e.defaults,u),response:void 0,error:void 0};if(t.options.method=(h=t.options.method)==null?void 0:h.toUpperCase(),t.options.onRequest&&await t.options.onRequest(t),typeof t.request=="string"&&(t.options.baseURL&&(t.request=Ne(t.request,t.options.baseURL)),(t.options.query||t.options.params)&&(t.request=xe(t.request,{...t.options.params,...t.options.query}))),t.options.body&&K(t.options.method)&&(nt(t.options.body)?(t.options.body=typeof t.options.body=="string"?t.options.body:JSON.stringify(t.options.body),t.options.headers=new u(t.options.headers||{}),t.options.headers.has("content-type")||t.options.headers.set("content-type","application/json"),t.options.headers.has("accept")||t.options.headers.set("accept","application/json")):("pipeTo"in t.options.body&&typeof t.options.body.pipeTo=="function"||typeof t.options.body.pipe=="function")&&("duplex"in t.options||(t.options.duplex="half"))),!t.options.signal&&t.options.timeout){const i=new o;setTimeout(()=>i.abort(),t.options.timeout),t.options.signal=i.signal}try{t.response=await s(t.request,t.options)}catch(i){return t.error=i,t.options.onRequestError&&await t.options.onRequestError(t),await m(t)}if(t.response.body&&!pt.has(t.response.status)&&t.options.method!=="HEAD"){const i=(t.options.parseResponse?"json":t.options.responseType)||ct(t.response.headers.get("content-type")||"");switch(i){case"json":{const k=await t.response.text(),S=t.options.parseResponse||ee;t.response._data=S(k);break}case"stream":{t.response._data=t.response.body;break}default:t.response._data=await t.response[i]()}}return t.options.onResponse&&await t.options.onResponse(t),!t.options.ignoreResponseError&&t.response.status>=400&&t.response.status<600?(t.options.onResponseError&&await t.options.onResponseError(t),await m(t)):t.response},v=async function(b,p){return(await d(b,p))._data};return v.raw=d,v.native=(...r)=>s(...r),v.create=(r={})=>X({...e,defaults:{...e.defaults,...r}}),v}const U=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),mt=U.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),ft=U.Headers,ht=U.AbortController,yt=X({fetch:mt,Headers:ft,AbortController:ht});var bt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};const gt=yt.create({baseURL:bt.VITE_API_BASE_URL||"/api",async onRequest({options:e}){const s=F("accessToken").value;s&&(e.headers={...e.headers,Authorization:`Bearer ${s}`})}}),vt=ze("v-alert-title"),wt=["success","info","warning","error"],kt=te({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:se,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>wt.includes(e)},...oe(),...ae(),...re(),...ne(),...ie(),...le(),...ce(),...ue(),...de(),...pe({variant:"flat"})},"VAlert"),Q=me()({name:"VAlert",props:kt(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{emit:u,slots:o}=s;const m=fe(e,"modelValue"),d=D(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),v=D(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:r}=he(e),{colorClasses:b,colorStyles:p,variantClasses:t}=ye(v),{densityClasses:w}=be(e),{dimensionStyles:h}=ge(e),{elevationClasses:i}=ve(e),{locationStyles:k}=we(e),{positionClasses:S}=ke(e),{roundedClasses:L}=Ve(e),{textColorClasses:E,textColorStyles:A}=_e(Te(e,"borderColor")),{t:n}=Se(),y=D(()=>({"aria-label":n(e.closeLabel),onClick(C){m.value=!1,u("click:close",C)}}));return()=>{const C=!!(o.prepend||d.value),I=!!(o.title||e.title),R=!!(o.close||e.closable);return m.value&&a(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},r.value,b.value,w.value,i.value,S.value,L.value,t.value,e.class],style:[p.value,h.value,k.value,e.style],role:"alert"},{default:()=>{var f,B;return[Ce(!1,"v-alert"),e.border&&a("div",{key:"border",class:["v-alert__border",E.value],style:A.value},null),C&&a("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?a(M,{key:"prepend-defaults",disabled:!d.value,defaults:{VIcon:{density:e.density,icon:d.value,size:e.prominent?44:28}}},o.prepend):a(Y,{key:"prepend-icon",density:e.density,icon:d.value,size:e.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[I&&a(vt,{key:"title"},{default:()=>{var q;return[((q=o.title)==null?void 0:q.call(o))??e.title]}}),((f=o.text)==null?void 0:f.call(o))??e.text,(B=o.default)==null?void 0:B.call(o)]),o.append&&a("div",{key:"append",class:"v-alert__append"},[o.append()]),R&&a("div",{key:"close",class:"v-alert__close"},[o.close?a(M,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var q;return[(q=o.close)==null?void 0:q.call(o,{props:y.value})]}}):a(Z,qe({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},y.value),null)])]}})}}}),Vt={class:"error-login"},_t={class:"auth-logo d-flex align-center gap-x-3"},Tt={class:"auth-title"},St={class:"login-header"},Ct={class:"position-relative bg-background w-100 me-0"},qt={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},Pt=["src"],Et={class:"text-h4 mb-1"},Rt=g("span",{class:"text-capitalize"}," Dasborad ",-1),$t={class:"mb-0"},Lt={class:"d-flex align-center flex-wrap justify-space-between my-6"},Qt={__name:"login",setup(e){const s=[{name:"light",icon:"tabler-sun-high"},{name:"dark",icon:"tabler-moon-stars"},{name:"system",icon:"tabler-device-desktop-analytics"}],u=H(st,tt,et,Xe,!0),o=H(Oe,Me),m=V(!1),d=Pe(),v=Ee(),r=V({username:void 0,password:void 0}),b=n=>n&&n.length<8?"Password must be at least 8 characters long.":!0,p=V(""),t=V(!1),w=V(!1),h=V(),i=V({username:"",password:""}),k=V(!1),S=async()=>{const n=await gt("https://booking-back-sand.vercel.app/auth/login",{method:"post",body:{username:i.value.username,password:i.value.password}});console.log(n),p.value="login successfully",t.value=!0,F("userData").value=n.data.user,F("accessToken").value=n.data.token,Be(()=>{v.replace(d.query.to?String(d.query.to):"/calender")})},L=()=>{var n;(n=h.value)==null||n.validate().then(({valid:y})=>{y&&S()})},{locale:E}=Re({useScope:"global"}),A=n=>{window.location.reload(),E.value=n.i18nLang};return(n,y)=>{const C=Ue,I=Ie("IconBtn"),R=Fe;return P(),O(z,null,[g("div",Vt,[l(t)?(P(),j(Q,{key:0,density:"default",color:"success",variant:"tonal"},{default:c(()=>[T(_(l(p)),1)]),_:1})):N("",!0),l(w)?(P(),j(Q,{key:1,density:"default",color:"error",variant:"tonal"},{default:c(()=>[T(_(l(p)),1)]),_:1})):N("",!0)]),g("div",_t,[g("h1",Tt,_(l(x).app.title),1)]),g("div",St,[a(C,{themes:s}),a(I,null,{default:c(()=>[a(Y,{size:"24",icon:"tabler-language"}),a(He,{activator:"parent",offset:"12px"},{default:c(()=>[a(Je,{selected:[l(E)],color:"primary","min-width":"175px"},{default:c(()=>[(P(!0),O(z,null,$e(l(x).app.i18n.langConfig,f=>(P(),j(Ge,{key:f.i18nLang,value:f.i18nLang,onClick:B=>A(f)},{default:c(()=>[a(We,null,{default:c(()=>[T(_(f.label),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})]),a(J,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:c(()=>[a($,{md:"8",class:"d-none d-md-flex"},{default:c(()=>[g("div",Ct,[g("div",qt,[a(Ke,{"max-width":"613",src:l(u),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),g("img",{class:"auth-footer-mask",src:l(o),alt:"auth-footer-mask",height:"280",width:"100"},null,8,Pt)])]),_:1}),a($,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:c(()=>[a(Qe,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:c(()=>[a(G,null,{default:c(()=>[g("h4",Et,[T(_(n.$t("Welcome to"))+" ",1),Rt,T("! 👋🏻 ")]),g("p",$t,_(n.$t("Please sign-in to your account")),1)]),_:1}),a(G,null,{default:c(()=>[a(l(De),{ref_key:"refVForm",ref:h,onSubmit:Le(L,["prevent"])},{default:c(()=>[a(J,null,{default:c(()=>[a($,{cols:"12"},{default:c(()=>[a(R,{modelValue:l(i).username,"onUpdate:modelValue":y[0]||(y[0]=f=>l(i).username=f),label:n.$t("UserName"),placeholder:n.$t("UserName"),type:"username",autofocus:"",rules:["requiredValidator"in n?n.requiredValidator:l(W)],"error-messages":l(r).username},null,8,["modelValue","label","placeholder","rules","error-messages"])]),_:1}),a($,{cols:"12"},{default:c(()=>[a(R,{modelValue:l(i).password,"onUpdate:modelValue":y[1]||(y[1]=f=>l(i).password=f),label:n.$t("Password"),placeholder:n.$t("Password"),rules:["requiredValidator"in n?n.requiredValidator:l(W),b],type:l(m)?"text":"password","append-inner-icon":l(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":y[2]||(y[2]=f=>m.value=!l(m))},null,8,["modelValue","label","placeholder","rules","type","append-inner-icon"]),g("div",Lt,[a(je,{modelValue:l(k),"onUpdate:modelValue":y[3]||(y[3]=f=>Ae(k)?k.value=f:null),label:n.$t("Remember me")},null,8,["modelValue","label"])]),a(Z,{block:"",type:"submit"},{default:c(()=>[T(_(n.$t("Login")),1)]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Qt as default};
